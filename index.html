<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>arbitrary-emitter: javascript event emitter</title>
  <link rel="stylesheet" href="dist/normalize.css">
  <link rel="stylesheet" href="css/prism.css">
  <link rel="stylesheet" href="css/main.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700,600italic,800,800italic' rel='stylesheet' type='text/css'>
</head>
<body>
  <div class="container">

<a class="g-link" href="https://github.com/jacoborus/arbitrary-emitter">github.com/jacoborus/arbitrary-emitter</a> <a class="author-link" href="http://jacoborus.codes">jacoborus.codes</a>
<h1 id="arbitrary-emitter">arbitrary-emitter</h1>

<p class="cite">High performance event emitter with Map/Set sugar for node.js and browsers </p>

<p><strong>arbitrary-emitter</strong> stores listeners and actions in Maps and Sets, this allows to use arbitrary values as keys for your listeners</p>
<p>It works on node.js and browsers, and it's just 500 bytes when gzipped</p>
<p><strong>arbitrary-emitter</strong> is written in vanilla ES6, so you will have to transpile it before using it in old browsers or node.js &lt; v5.9</p>



<h2 id="create-a-new-emitter">Create a new emitter</h2>



<pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">const</span> emitter = arbitraryEmitter()</code></pre>



<h2 id="emitter-api">Emitter API</h2>

<p><a></a></p>



<h3 id="onkey-action">on(key, action)</h3>

<p>Add a listener with <code>key</code> which will trigger <code>action</code> function.  <br>
<code>key</code> can be any type of value.</p>

<p><code>on</code> returns unsubscribe  method</p>



<pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">const</span> obj = {}
<span class="hljs-keyword">let</span> removeAction = emitter.on(obj, () =&gt; doSomething())
emitter.emit(obj) <span class="hljs-comment">// will `doSomething`</span>
removeAction()
emitter.emit(obj) <span class="hljs-comment">// won't do anything</span></code></pre>

<p><a></a></p>



<h3 id="oncekey-action">once(key, action)</h3>

<p>Add a listener for <code>key</code> which will trigger <code>action</code> function just one time, then listener will be removed. <br>
<code>key</code> can be any type of value</p>



<pre class="prettyprint"><code class="language-js hljs "><span class="hljs-keyword">const</span> obj = {}
emitter.once(obj, () =&gt; doSomethingOnce())
emitter.emit(obj) <span class="hljs-comment">// will `doSomething`</span>
emitter.emit(obj) <span class="hljs-comment">// won't do anything</span></code></pre>

<p><a></a></p>



<h3 id="emitkey-args">emit(key[, …args])</h3>

<p><code>emit</code> methods binded to <code>key</code>, and pass the rest of the arguments to it</p>



<pre class="prettyprint"><code class="language-js hljs ">emitter.on(<span class="hljs-string">'test'</span>, (a, b) =&gt; console.log(a + b))
emitter.emit(<span class="hljs-string">'test'</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>) <span class="hljs-comment">// =&gt; 3</span></code></pre>

<p><a></a></p>



<h3 id="offkey-action">off(key[, action])</h3>

<p>Remove <code>action</code> from listener <code>key</code>. If no action is specified will remove all listeners binded to <code>key</code></p>



<pre class="prettyprint"><code class="language-js hljs ">emitter.off(key, action) <span class="hljs-comment">// will remove action from listener `key`</span>
emitter.off(key) <span class="hljs-comment">// will remove the listener `key` and all actions binded to it</span></code></pre>

<p><a></a></p>



<h2 id="testing">Testing</h2>



<h3 id="node">Node</h3>



<pre class="prettyprint"><code class="language-sh hljs coffeescript"><span class="hljs-built_in">npm</span> test</code></pre>



<h3 id="browser">Browser</h3>

<p>Build browser tests (<code>npm run build-tests</code>) and open <code>test/test.html</code></p>

<p><a></a></p>



<h2 id="building">Building</h2>

<ul>
<li>Build UMD file: <code>npm run build-umd</code></li>
<li>Build browser tests: <code>npm run build-tests</code></li>
<li>Run both builds: <code>npm run build</code></li>
</ul>

<p><br><br></p>

<hr>

<p>© 2016 <a href="https://github.com/jacoborus">Jacobo Tabernero</a> - Released under <a href="https://raw.github.com/jacoborus/arbitrary-emitter/master/LICENSE">MIT License</a></p>


  </div>
  <script src="js/prism.js"></script>
</body>
</html>
